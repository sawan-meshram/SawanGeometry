package com.sawan.test;

import org.locationtech.jts.geom.Geometry;

import com.sawan.geometry.util.GeometryUtil;
import com.sawan.io.EsriJsonWriter;

public class EsriJSONWriterTest {
	public static void main(String[] args) {

		//Pass
//		String multipoint = "MULTIPOINT((-104.23828124999999 36.03133177633187),(-97.9541015625 37.125286284966805),(-99.71191406249999 33.87041555094183))";
//		Geometry g = GeometryUtil.toGeometry(multipoint);
		
		//pass
//		String point = "POINT(-103.56811523437501 35.37113502280101)";
//		Geometry g = GeometryUtil.toGeometry(point);

		//pass
//		String lineString = "LINESTRING(-105.44677734374999 34.57895241036947,-104.754638671875 34.79576153473033,-104.45800781250001 34.57895241036947)";
//		Geometry g = GeometryUtil.toGeometry(lineString);
		
		//pass
//		String multilineString = "MULTILINESTRING((-105.44677734374999 34.57895241036947,-104.754638671875 34.79576153473033,-104.45800781250001 34.57895241036947),(-103.809814453125 34.79576153473033,-103.34838867187499 34.97600151317589,-103.392333984375 34.68742794931485))";
//		Geometry g = GeometryUtil.toGeometry(multilineString);

		//pass
//		String polygon = "POLYGON((-102.79907226562501 35.3352932030933,-102.35961914062501 35.46961797120201,-102.425537109375 34.966998906703665,-102.76611328125 34.89494244739733,-102.79907226562501 35.3352932030933))";
//		Geometry g = GeometryUtil.toGeometry(polygon);
		
		//pass
//		String polyNonHole = "POLYGON((-97.06138 32.837 , -97.06133 32.836 , -97.06124 32.834 , -97.06127 32.832 , -97.06138 32.837), (-97.06326 32.759, -97.06298 32.755, -97.06153 32.749, -97.06326 32.759))";
//		Geometry g = GeometryUtil.toGeometry(polyNonHole);
		
		//pass
//		String polyHole = "POLYGON((-102.79907226562501 35.3352932030933,-102.35961914062501 35.46961797120201,-102.42553710937499 34.966998906703665,-102.76611328125 34.89494244739733,-102.79907226562501 35.3352932030933),(-102.62329101562499 35.191766965947394,-102.557373046875 35.074964853989556,-102.54638671875 35.23664622093196,-102.62329101562499 35.191766965947394))";
//		Geometry g = GeometryUtil.toGeometry(polyHole);

		//pass
		String multipolygon = "MULTIPOLYGON(((-103.20693969726562 35.08620310578526,-103.13278198242189 35.112045209072974,-103.13278198242189 35.05360791102561,-103.17535400390626 34.996253759790164,-103.20693969726562 35.08620310578526)),((-103.09432983398438 35.11990857099681,-103.09570312500001 35.00187849469238,-102.98583984375001 35.015376280906935,-103.02291870117189 35.10755151867906,-103.09432983398438 35.11990857099681)))";
		Geometry g = GeometryUtil.toGeometry(multipolygon);
		
		//failed, becoz not supported
//		String geomCollection = "GEOMETRYCOLLECTION(MULTIPOLYGON(((-103.20693969726562 35.08620310578526,-103.13278198242189 35.112045209072974,-103.13278198242189 35.05360791102561,-103.17535400390626 34.996253759790164,-103.20693969726562 35.08620310578526)),((-103.09432983398438 35.11990857099681,-103.09570312500001 35.00187849469238,-102.98583984375001 35.015376280906935,-103.02291870117189 35.10755151867906,-103.09432983398438 35.11990857099681))),POINT(-103.12419891357419 35.01875037943829),LINESTRING(-103.12591552734372 35.07440290076302,-103.1193923950195 35.08536029060161,-103.11870574951169 35.07159307658134,-103.12557220458982 35.06765916019492,-103.11801910400388 35.05360791102558))";
//		Geometry g = GeometryUtil.toGeometry(geomCollection);
		
		g.setSRID(4326);
		EsriJsonWriter writer = new EsriJsonWriter();
//		writer.setEncodeSR(false);
		String json = writer.write(g);
		System.out.println(json);
	
	}
}
